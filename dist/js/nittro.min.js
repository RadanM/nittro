_context.invoke("Nittro.Widgets",function(DOM,Arrays){var Dialog=_context.extend("Nittro.Object",function(options){Dialog.Super.call(this),this._.options=Arrays.mergeTree({},Dialog.getDefaults(this.constructor),options),this._.visible=!1,this._.scrollPosition=null,this._.elms={holder:DOM.createFromHtml(this._.options.templates.holder),wrapper:DOM.createFromHtml(this._.options.templates.wrapper),content:DOM.createFromHtml(this._.options.templates.content),buttons:DOM.createFromHtml(this._.options.templates.buttons)},this._.elms.holder.appendChild(this._.elms.wrapper),this._.elms.wrapper.appendChild(this._.elms.content),this._.options.classes&&DOM.addClass(this._.elms.holder,this._.options.classes),this._.options.text&&(this._.options.html="<p>"+this._.options.text+"</p>"),DOM.html(this._.elms.content,this._.options.html),this._.options.buttons&&(this._.elms.wrapper.appendChild(this._.elms.buttons),this._createButtons(),DOM.addListener(this._.elms.buttons,"click",this._handleButtons.bind(this))),this.on("button:default",function(){this.hide()}),this._.options.keyMap&&this._prepareKeymap(),DOM.addListener(this._.elms.holder,"touchmove",this._handleTouchScroll.bind(this)),this._.options.layer.appendChild(this._.elms.holder),this._handleKey=this._handleKey.bind(this),this._handleScroll=this._handleScroll.bind(this)},{STATIC:{defaults:{classes:null,html:null,text:null,buttons:null,keyMap:{},templates:{holder:'<div class="nittro-dialog-holder"></div>',wrapper:'<div class="nittro-dialog-inner"></div>',content:'<div class="nittro-dialog-content"></div>',buttons:'<div class="nittro-dialog-buttons"></div>',button:"<button></button>"},layer:null},getDefaults:function(type){var k,defaults=type.defaults||{};do if(type=type.Super,type.defaults)for(k in type.defaults)type.defaults.hasOwnProperty(k)&&!defaults.hasOwnProperty(k)&&(defaults[k]=type.defaults[k]);while(type&&type!==Dialog);return defaults},setDefaults:function(options){Arrays.mergeTree(Dialog.defaults,options)}},isVisible:function(){return this._.visible},show:function(){this._.visible||(this._.visible=!0,this.trigger("show"),this._.keyMap&&DOM.addListener(document,"keydown",this._handleKey),this._.scrollLock={left:window.pageXOffset,top:window.pageYOffset},/ipod|ipad|iphone/i.test(navigator.userAgent)&&(this._.scrollPosition=window.pageYOffset,window.scrollTo(0,0),this._.scrollLock.left=0,this._.scrollLock.top=0),DOM.addListener(window,"scroll",this._handleScroll),DOM.addClass(this._.elms.holder,"visible"))},hide:function(){this._.visible&&(this._.visible=!1,this._.keyMap&&DOM.removeListener(document,"keydown",this._handleKey),DOM.removeListener(window,"scroll",this._handleScroll),/ipod|ipad|iphone/i.test(navigator.userAgent)&&(window.scrollTo(0,this._.scrollPosition),this._.scrollPosition=null),DOM.removeClass(this._.elms.holder,"visible"),this.trigger("hide"))},getContent:function(){return this._.elms.content},getButtons:function(){return this._.elms.buttons},destroy:function(){this._.visible?(window.setTimeout(function(){this.destroy()}.bind(this),1e3),this.hide()):(this._.options.layer.removeChild(this._.elms.holder),this.off(),window.setTimeout(function(k){for(k in this._.elms)this._.elms[k]=null}.bind(this),10))},_createButtons:function(){var value,btn,def;for(value in this._.options.buttons)btn=DOM.createFromHtml(this._.options.templates.button),def=this._.options.buttons[value],"string"==typeof def&&(def={label:def,type:"button"}),DOM.setData(btn,"value",value),DOM.addClass(btn,"nittro-dialog-button","button"===def.type?"nittro-dialog-button-text":"nittro-dialog-button-plain"),btn.textContent=def.label,this._.elms.buttons.appendChild(btn)},_handleButtons:function(evt){evt.preventDefault(),this.trigger("button",{value:DOM.getData(evt.target,"value")})},_prepareKeymap:function(){var v,k,keyMap={};for(v in this._.options.keyMap)k=this._.options.keyMap[v],k instanceof Array||(k=[k]),k.forEach(function(k){keyMap[k]=v});this._.keyMap=keyMap},_handleKey:function(evt){"textarea"!==evt.target.tagName.toLowerCase()&&evt.which in this._.keyMap&&(evt.preventDefault(),this.trigger("button",{value:this._.keyMap[evt.which]}))},_handleTouchScroll:function(evt){this._.elms.holder===evt.target&&evt.preventDefault()},_handleScroll:function(){window.scrollTo(this._.scrollLock.left,this._.scrollLock.top)}});_context.register(Dialog,"Dialog")},{DOM:"Utils.DOM",Arrays:"Utils.Arrays"}),_context.invoke("Nittro.Widgets",function(Dialog,Arrays,ReflectionClass){var Confirm=_context.extend(Dialog,function(options){if(!(this instanceof Confirm)){var dlg=ReflectionClass.from(Confirm).newInstanceArgs(arguments);return window.setTimeout(function(){dlg.show()},1),dlg}Confirm.Super.call(this,this._prepareOptions(arguments)),this._.promise=new Promise(function(fulfill,reject){this.on("button",function(evt){this.destroy(),"confirm"===evt.data.value?fulfill():reject()})}.bind(this))},{STATIC:{defaults:{classes:"nittro-dialog-confirm",buttons:{confirm:"OK",cancel:{label:"Cancel",type:"text"}},keyMap:{confirm:13,cancel:27}},setDefaults:function(defaults){Arrays.mergeTree(Confirm.defaults,defaults)}},_prepareOptions:function(args){var options=args[0];return"string"==typeof options&&(options={text:options},args.length>1&&(options.buttons={confirm:args[1]},args.length>2?"string"==typeof args[2]?options.buttons.cancel={label:args[2],type:"text"}:options.buttons.cancel=args[2]:options.buttons.cancel={label:"Cancel",type:"text"})),options},then:function(onfulfill,onreject){return this._.promise.then(onfulfill,onreject)}});_context.register(Confirm,"Confirm")},{ReflectionClass:"Utils.ReflectionClass",Arrays:"Utils.Arrays"}),_context.invoke("Nittro.Widgets",function(DOM,Arrays,Confirm){var AutoConfirm=_context.extend(function(page,options){this._={page:page,options:Arrays.mergeTree(!0,{},AutoConfirm.defaults,options)},this._.page.on("create-request",this._handleRequest.bind(this))},{STATIC:{defaults:{prompt:"Are you sure?",confirm:"Yes",cancel:"No"}},_handleRequest:function(evt){if(evt.data.context&&DOM.hasClass(evt.data.context,"nittro-confirm")){if(DOM.getData(evt.data.context,"confirmed"))return void DOM.setData(evt.data.context,"confirmed",null);evt.preventDefault();var prompt=DOM.getData(evt.data.context,"prompt")||this._.options.prompt,confirm=DOM.getData(evt.data.context,"confirm")||this._.options.confirm,cancel=DOM.getData(evt.data.context,"cancel")||this._.options.cancel;Confirm(prompt,confirm,cancel).then(function(){DOM.setData(evt.data.context,"confirmed",!0),evt.data.context instanceof HTMLFormElement?this._.page.sendForm(evt.data.context):this._.page.openLink(evt.data.context)}.bind(this),function(){DOM.setData(evt.data.context,"confirmed",null)})}}});_context.register(AutoConfirm,"AutoConfirm")},{DOM:"Utils.DOM",Arrays:"Utils.Arrays"}),_context.invoke("Nittro.Widgets",function(Dialog,Form,DOM,Arrays){var FormDialog=_context.extend(Dialog,function(formLocator,options){FormDialog.Super.call(this,options),this._.elms.form=this.getContent().getElementsByTagName("form").item(0),this._.formLocator=formLocator,this._.form=formLocator.getForm(this._.elms.form),DOM.addListener(this._.elms.form,"submit",this._handleSubmit.bind(this)),this.on("button",this._handleButton.bind(this)),this._.options.autoFocus&&this.on("show",this._autoFocus.bind(this))},{STATIC:{defaults:{classes:"nittro-dialog-form",hideOnSuccess:!0,autoFocus:!0,buttons:{confirm:"OK",cancel:{label:"Cancel",type:"text"}},keyMap:{confirm:13,cancel:27}},setDefaults:function(defaults){Arrays.mergeTree(FormDialog.defaults,defaults)}},setValues:function(values){return this._.form.setValues(values),this},reset:function(){return this._.form.reset(),this},getForm:function(){return this._.form},_handleSubmit:function(evt){evt.defaultPrevented||(this._.options.hideOnSuccess&&this.hide(),this.trigger("success"))},_handleButton:function(evt){"confirm"===evt.data.value?(evt.preventDefault(),this._.form.submit()):this._.form.reset()},_autoFocus:function(){try{this._.form.getElements().item(0).focus()}catch(e){}},destroy:function(){this._.formLocator.removeForm(this._.elms.form),FormDialog.Super.prototype.destroy.call(this)}});_context.register(FormDialog,"FormDialog")},{Form:"Nittro.Forms.Form",DOM:"Utils.DOM",Arrays:"Utils.Arrays"}),_context.invoke("Nittro.Widgets",function(Arrays,Strings,DOM,undefined){var Paginator=_context.extend("Nittro.Object",function(ajax,page,options){if(Paginator.Super.call(this),this._.ajaxService=ajax,this._.pageService=page,this._.options=Arrays.mergeTree({},Paginator.defaults,options),this._.container=this._.options.container,this._.scrollContainer=this._resolveScrollContainer(this._.options.container,this._.options.scrollContainer),null===this._.options.pageSize)throw new Error("You must specify the page size (number of items per page)");if(null===this._.options.pageCount)throw new Error("You must specify the page count");null===this._.options.margin&&(this._.options.margin=this._computeMargin()),"string"==typeof this._.options.itemRenderer?this._.template=DOM.getById(this._.options.itemRenderer).innerHTML:"string"==typeof this._.options.template&&(this._.template=this._.options.template),this._.firstPage=this._.lastPage=this._.currentPage=this._.options.currentPage,this._.lock=!1,this._.previousItems=null,this._.previousThreshold=null,this._.nextThreshold=this._computeNextThreshold(),this._.handleScroll=this._handleScroll.bind(this),this._.prevContainer=DOM.create("div",{"class":"paginator-previous"}),this._.container.insertBefore(this._.prevContainer,this._.container.firstChild),this._.pageThresholds=[{page:this._.currentPage,threshold:this._.prevContainer.nextElementSibling.getBoundingClientRect().top+this._getScrollTop()}],Arrays.isArray(this._.options.items)&&this._getItems(this._.options.currentPage),this._preparePreviousPage(),this._renderPreviousPage(),DOM.addListener(this._.scrollContainer,"scroll",this._.handleScroll)},{STATIC:{defaults:{container:null,scrollContainer:null,itemRenderer:null,template:null,items:null,url:null,margin:null,currentPage:1,pageCount:null,pageSize:null}},destroy:function(){DOM.removeListener(this._.scrollContainer,"scroll",this._.handleScroll),this._.container=this._.scrollContainer=this._.options=null},_handleScroll:function(){this._.lock||(this._.lock=!0,window.requestAnimationFrame(function(){this._.lock=!1;var i,t,p,n,top=this._getScrollTop();for(null!==this._.nextThreshold&&top>this._.nextThreshold?(this._.nextThreshold=null,this._renderNextPage()):null!==this._.previousThreshold&&top<this._.previousThreshold&&(this._.previousThreshold=null,this._renderPreviousPage()),i=1,t=this._.pageThresholds.length;t>=i;i++)p=this._.pageThresholds[i-1],n=this._.pageThresholds[i],top>p.threshold&&(!n||top<n.threshold)&&p.page!==this._.currentPage&&(this._.currentPage=p.page,this._.pageService.saveHistoryState(this._getPageUrl(p.page),null,!0))}.bind(this)))},_getPageUrl:function(page){var url=this._.options.url;return"function"==typeof url?url.call(null,page):url.replace(/%page%/g,page)},_getItems:function(page){if(Arrays.isArray(this._.options.items)){var items,args=new Array(this._.options.pageSize);return args.unshift((page-1)*this._.options.pageSize,this._.options.pageSize),items=this._.options.items.splice.apply(this._.options.items,args),Promise.resolve(items)}var url=this._getPageUrl(page);return this._.ajaxService.get(url).then(function(response){return response.getPayload().items||[]})},_preparePreviousPage:function(){this._.firstPage>1?this._.previousItems=this._getItems(this._.firstPage-1).then(function(items){return items.map(this._createItem.bind(this)).map(function(elem){return this._.prevContainer.appendChild(elem),elem}.bind(this))}.bind(this)):this._.previousItems=Promise.resolve(null)},_renderPreviousPage:function(){return this._.previousItems.then(function(items){if(items){this._.firstPage--;var delta,scrollTop=this._getScrollTop(),style=window.getComputedStyle(this._.prevContainer),first=items[0],existing=this._.prevContainer.nextElementSibling||null,itemStyle=window.getComputedStyle(first),pt=parseFloat(style.paddingTop.replace(/px$/,"")),pb=parseFloat(style.paddingBottom.replace(/px$/,"")),m=0;for(style.display.match(/flex$/)||"none"!==itemStyle["float"]||(m=Math.max(parseFloat(itemStyle.marginTop.replace(/px$/,"")),parseFloat(itemStyle.marginBottom.replace(/px$/,"")))),delta=this._.prevContainer.clientHeight-pt-pb-m,scrollTop+=delta;items.length;)this._.container.insertBefore(items.shift(),existing);window.requestAnimationFrame(function(){this._setScrollTop(scrollTop),this._.pageThresholds.forEach(function(t){t.threshold+=delta}),this._.pageThresholds.unshift({page:this._.firstPage,threshold:first.getBoundingClientRect().top+scrollTop})}.bind(this)),this._preparePreviousPage(),this._.previousThreshold=this._computePreviousThreshold()}}.bind(this))},_renderNextPage:function(){return this._getItems(this._.lastPage+1).then(function(items){this._.lastPage++,items=items.map(this._createItem.bind(this));for(var first=items[0];items.length;)this._.container.appendChild(items.shift());this._.nextThreshold=this._computeNextThreshold(),this._.pageThresholds.push({page:this._.lastPage,threshold:first.getBoundingClientRect().top+this._getScrollTop()})}.bind(this))},_createItem:function(data){var item=this._renderItem(data);if("string"==typeof item&&(item=DOM.createFromHtml(item)),Arrays.isArray(item))throw new Error("Rendered item contains more than one root HTML element");return item},_renderItem:function(data){return"string"==typeof data?data:this._.template?this._.template.replace(/%([a-z0-9_.-]+)%/gi,function(){var i,p,path=arguments[1].split(/\./g),cursor=data,n=path.length;for(i=0;n>i;i++){if(p=path[i],Arrays.isArray(cursor)&&p.match(/^\d+$/)&&(p=parseInt(p)),cursor[p]===undefined)return"";cursor=cursor[p]}return Strings.escapeHtml(cursor+"")}):this._.options.itemRenderer.call(null,data)},_computePreviousThreshold:function(){return this._.firstPage>1?this._.options.margin:null},_computeNextThreshold:function(){if(!this._.container.lastElementChild||this._.lastPage>=this._.options.pageCount)return null;var ofs=this._.container.lastElementChild.getBoundingClientRect().bottom;return Math.max(0,ofs+this._getScrollTop()-this._getScrollContainerHeight()-this._.options.margin)},_computeMargin:function(){return this._getScrollContainerHeight()/2},_getScrollContainerHeight:function(){return this._.scrollContainer.clientHeight||this._.scrollContainer.innerHeight},_getScrollTop:function(){return this._.scrollContainer===window?window.pageYOffset:this._.scrollContainer.scrollTop},_setScrollTop:function(to){this._.scrollContainer===window?window.scrollTo(0,to):this._.scrollContainer.scrollTop=to},_resolveScrollContainer:function(elem,scrollContainer){function isScrollable(elem){var style=window.getComputedStyle(elem);return"auto"===style.overflow||"scroll"===style.overflow||"auto"===style.overflowX||"scroll"===style.overflowX||"auto"===style.overflowY||"scroll"===style.overflowY}if("auto"===scrollContainer)for(scrollContainer=elem;scrollContainer&&scrollContainer!==document.body&&!isScrollable(scrollContainer);)scrollContainer=scrollContainer.parentNode;else if(null===scrollContainer)return window;return scrollContainer&&scrollContainer!==document.body?scrollContainer:window}});_context.register(Paginator,"Paginator")},{Arrays:"Utils.Arrays",Strings:"Utils.Strings",DOM:"Utils.DOM"}),_context.invoke("Nittro.Widgets",function(Form,Vendor,DOM,Arrays,Strings){var DropZone=_context.extend("Nittro.Object",function(form,elem,options){DropZone.Super.call(this),this._.form=form||null,this._.elem=null,this._.field=null,this._.rules=null,this._.files=[],this._.dragElems=[],this._.options=Arrays.mergeTree({},DropZone.defaults,options),this.validate=this.validate.bind(this),this._serialize=this._serialize.bind(this),this._handleDragEvent=this._handleDragEvent.bind(this),this._handleDrop=this._handleDrop.bind(this),this._handleFieldChange=this._handleFieldChange.bind(this),this._.form&&(this._.form.on("validate",this.validate),this._.form.on("serialize",this._serialize),this.on("error:default",function(evt){this._.form.trigger("error",{elem:this._.field||this._.elem,message:evt.data.message})}.bind(this))),this._.options.allowedTypes&&(this._.options.allowedTypes=this._normalizeTypes(this._.options.allowedTypes)),this._.options.maxSize&&(this._.options.maxSize=this._normalizeMaxSize(this._.options.maxSize)),this._.options.field&&(this._.field=this._.options.field,this._.rules=DOM.getData(this._.field,"nette-rules"),this._.options.fieldName=this._.field.name,this._.options.required=this._.field.required,this._.options.multiple=this._.field.multiple,this._.field.accept?this._.options.allowedTypes=this._normalizeTypes(this._.field.accept):this._.options.allowedTypes&&(this._.field.accept=this._formatAccept(this._.options.allowedTypes)),this._.options.field=null,this._.field.required=!1,this._.field.removeAttribute("data-nette-rules"),DOM.addListener(this._.field,"change",this._handleFieldChange)),elem&&this.attach(elem)},{STATIC:{create:function(formLocator,from){if(!(from instanceof HTMLInputElement)||"file"!==from.type)throw new Error("Invalid argument, must be a file input");var form=from.form?formLocator.getForm(from.form):null;return new DropZone(form,null,{field:from})},TYPES:{},defaults:{field:null,fieldName:null,required:!1,allowedTypes:null,maxSize:null,multiple:!0,messages:{empty:"This field is required.",invalidType:"File %s isn't an allowed kind of file",exceededSize:"File %s is too large."}}},attach:function(elem){this.detach(),this._.dragElems=[],this._.elem=elem,DOM.addListener(document.body,"dragenter",this._handleDragEvent),DOM.addListener(document.body,"dragover",this._handleDragEvent),DOM.addListener(document.body,"dragleave",this._handleDragEvent),DOM.addListener(document.body,"drop",this._handleDrop)},detach:function(){this._.elem&&(DOM.removeListener(document.body,"dragenter",this._handleDragEvent),DOM.removeListener(document.body,"dragover",this._handleDragEvent),DOM.removeListener(document.body,"dragleave",this._handleDragEvent),DOM.removeListener(document.body,"drop",this._handleDrop),this._.dragElems=[],this._.elem=null)},setAllowedTypes:function(allowedTypes){return this._.options.allowedTypes=allowedTypes?this._normalizeTypes(allowedTypes):null,this},setMaxSize:function(size){return this._.options.maxSize=size?this._normalizeMaxSize(size):null,this},setRequired:function(required){return this._.options.required=required!==!1,this},setMultiple:function(multiple){return this._.options.multiple=multiple!==!1,this},setFieldName:function(fieldName){return this._.options.fieldName=fieldName,this},hasFiles:function(){return this._.files.length>0},getFiles:function(){return this._.files.slice()},getFile:function(index){return this._.files[index]||null},isImage:function(file){return/^image\/.+$/i.test(file.type)},loadImages:function(){var queue=[];return this._.files.forEach(function(file){file.type.match(/^image\/.+$/i)&&queue.push(this.loadImage(file))}.bind(this)),Promise.all(queue)},loadImage:function(file){return new Promise(function(fulfill,reject){var reader=new FileReader,image=new Image;reader.onload=function(){image.src=reader.result,fulfill(image)},reader.onerror=function(){reject()},reader.readAsDataURL(file)})},removeFile:function(file){return"number"!=typeof file&&(file=this._.files.indexOf(file)),file>=0&&file<this._.files.length&&this._.files.splice(file,1),this},destroy:function(){this.detach(),this.off(),this._.files=[],this._.form=null,this._.form&&(this._.form.off("validate",this.validate),this._.form.off("serialize",this._serialize)),this._.field&&DOM.removeListener(this._.field,"change",this._handleFieldChange)},validate:function(evt){this._.options.required&&!this._.files.length&&(evt.preventDefault(),this.trigger("error",{message:this._formatErrorMessage("empty")}))},formatSize:function(bytes){for(var units=["kB","MB","GB","TB"],unit="B";bytes>1024&&units.length;)unit=units.shift(),bytes/=1024;return("B"===unit?bytes:bytes.toFixed(2))+" "+unit},_addFiles:function(files){var i=0,n=this._.options.multiple?files.length:1;if(this._.options.multiple||(this._.files=[]),!this._.field||!this._.rules||Vendor.validateControl(this._.field,this._.rules,!1,{value:files})){for(var evt,errors=[];n>i;i++)try{this._validateFile(files.item(i)),evt=this.trigger("file",{file:files.item(i),index:this._.files.length}),evt.isDefaultPrevented()||this._.files.push(files.item(i))}catch(e){if(!(e instanceof ValidationError))throw e;errors.push(e.message)}errors.length&&this.trigger("error",{message:errors.join("\n")})}},_validateFile:function(file){if(!this._validateType(file.name,file.type))throw new ValidationError(this._formatErrorMessage("invalidType",[file.name,file.type]));if(!this._validateSize(file.size))throw new ValidationError(this._formatErrorMessage("exceededSize",[file.name,this.formatSize(file.size),this.formatSize(this._.options.maxSize)]))},_validateType:function(name,type){return this._.options.allowedTypes?this._.options.allowedTypes.some(function(pattern){return"."===pattern.charAt(0)?!name||name.match(new RegExp(Strings.escapeRegex(pattern)+"$","i")):!type||type.match(new RegExp("^"+Strings.escapeRegex(pattern).replace(/\/\\\*$/,"/.+")+"$","i"))}):!0},_validateSize:function(size){return!this._.options.maxSize||size<=this._.options.maxSize},_handleFieldChange:function(){this._.field.files.length&&(this._addFiles(this._.field.files),this._.form&&this._.form.setValue(this._.options.fieldName,null))},_handleDrop:function(evt){if(this._.dragElems=[],!evt.defaultPrevented){evt.preventDefault();var drop=this.trigger("drop",{target:evt.target,allowed:evt.target===this._.elem||DOM.contains(this._.elem,evt.target)});drop.data.allowed&&this._addFiles(evt.dataTransfer.files)}},_handleDragEvent:function(evt){if(evt.preventDefault(),"dragenter"===evt.type)-1===this._.dragElems.indexOf(evt.target)&&this._.dragElems.push(evt.target),1===this._.dragElems.length&&this.trigger("body-enter",{files:evt.dataTransfer.files}),evt.target===this._.elem&&this.trigger("zone-enter",{files:evt.dataTransfer.files});else if("dragleave"===evt.type){var index=this._.dragElems.indexOf(evt.target);index>-1&&this._.dragElems.splice(index,1),evt.target===this._.elem&&this.trigger("zone-leave"),this._.dragElems.length||this.trigger("body-leave")}},_serialize:function(evt){for(var i=0;i<this._.files.length;i++)evt.data.append(this._.options.fieldName,this._.files[i])},_formatAccept:function(allowedTypes){return allowedTypes.join(",")},_normalizeTypes:function(allowedTypes){return"string"==typeof allowedTypes?allowedTypes.trim().split(/\s*,\s*/g):allowedTypes},_normalizeMaxSize:function(size){if("string"==typeof size){var unit;switch((unit=size.match(/(k|M|G|T)?B$/))?(unit=unit[1],size=size.replace(/(k|M|G|T)?B$/,"")):unit="B",size=parseFloat(size.trim()),unit){case"T":size*=1024;case"G":size*=1024;case"M":size*=1024;case"k":size*=1024}}return size},_formatErrorMessage:function(type,params){var message=this._.options.messages[type];return params&&(message=Strings.vsprintf(message,params)),message}}),ValidationError=_context.extend(Error,function(message){ValidationError.Super.call(this,message)});_context.register(DropZone,"DropZone")},{Form:"Nittro.Forms.Form",Vendor:"Nittro.Forms.Vendor",Arrays:"Utils.Arrays",Strings:"Utils.Strings",DOM:"Utils.DOM"});